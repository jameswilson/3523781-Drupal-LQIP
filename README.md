# LQIP/LCP Comparison Demo

This project demonstrates and compares several **Low-Quality Image Placeholder (LQIP)** techniques for a hero image, with the goal of evaluating their impact on **Largest Contentful Paint (LCP)** and perceived load experience. Each test page implements a different approach, allowing you to measure and compare their effects using tools like Lighthouse or WebPageTest.

## Demo Pages

| Page                | Description                                                                                      |
|---------------------|--------------------------------------------------------------------------------------------------|
| **About**           | Project overview and comparison points.                                                          |
| **Baseline Lazy**   | JPG hero image with `loading="lazy"`.                                                            |
| **Baseline Eager**  | JPG hero image with `loading="eager"`.                                                           |
| **LQIP No Blur**    | Tiny (20x20) base64 inline WebP placeholder, swaps to full-res hero image (no blur).             |
| **LQIP with Blur**  | Tiny (20x20) base64 inline WebP placeholder, swaps to full-res hero image, with CSS blur.        |
| **SQIP**            | SVG placeholder generated by SQIP, swaps to full-res hero image.                                 |
| **CSS-only LQIP**   | Pure CSS LQIP: dominant color or gradient as background, hero image fades in on top.             |

Each page is accessible via the navigation bar at the top of every page.

## Points of Comparison

- **Payload size:** Inline WebP base64 vs. inline SVG vs. CSS (+ JS) size.
- **Placeholder render quality:** Visual fidelity and smoothness of transition.
- **Load experience:** Jank, visual shift, and need for fade-in effects.
- **LCP score:** How each technique affects Lighthouse LCP measurement.
- **Processing requirements:** Simplicity and efficiency of each approach.

## Folder Structure

```
docroot/
  baseline-lazy.php
  baseline-eager.php
  lqip-no-blur.php
  lqip-blur.php
  sqip.php
  css-lqip.php
  index.php
  includes/
    nav.php
  styles/
    main.css
  images/
    hero.hi-res.jpg
    hero.sqip.svg
```

- **includes/nav.php**: Centralized navigation and page metadata.
- **styles/main.css**: Shared styles for all pages.
- **images/**: Contains the source hero image (JPG) and the SQIP-generated SVG placeholder.

## Generating the SQIP SVG

To generate the SQIP SVG placeholder, use the following commands:

```sh
npm install -g sqip-cli@canary
sqip -i docroot/images/hero.hi-res.jpg -o docroot/images/hero.sqip.svg
```

This will create an SVG placeholder from the hero JPG for use in the SQIP demo page.

## Requirements

- PHP with GD extension enabled (for LQIP WebP generation).
- Node.js and [SQIP CLI](https://github.com/axe312ger/sqip) (for generating the SQIP SVG).
- A web server capable of serving PHP files.

## Usage

1. Place the project files in your web server's document root.
2. Ensure the `images/hero.hi-res.jpg` and `.svg` files are present.
3. Open `index.php` in your browser to start exploring the different LQIP techniques.
4. Use Lighthouse or WebPageTest to measure LCP and compare the results across techniques.

## Credits

Photo by <a href="https://unsplash.com/@anthonyesau">Anthony Esau</a> on <a href="https://unsplash.com/photos/low-angle-photo-of-beige-concrete-building-under-cloudy-sky-N2zk9yXjmLA">Unsplash</a>
